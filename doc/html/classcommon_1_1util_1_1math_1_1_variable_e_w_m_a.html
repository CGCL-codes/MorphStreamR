<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MorphStream: common.util.math.VariableEWMA Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MorphStream
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>common</b></li><li class="navelem"><b>util</b></li><li class="navelem"><b>math</b></li><li class="navelem"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html">VariableEWMA</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">common.util.math.VariableEWMA Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html" title="VariableEWMA represents the exponentially weighted moving average of a series of numbers.">VariableEWMA</a> represents the exponentially weighted moving average of a series of numbers.  
 <a href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for common.util.math.VariableEWMA:</div>
<div class="dyncontent">
<div class="center"><img src="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a__coll__graph.png" border="0" usemap="#common_8util_8math_8_variable_e_w_m_a_coll__map" alt="Collaboration graph"/></div>
<map name="common_8util_8math_8_variable_e_w_m_a_coll__map" id="common_8util_8math_8_variable_e_w_m_a_coll__map">
<area shape="rect" title="VariableEWMA represents the exponentially weighted moving average of a series of numbers." alt="" coords="5,139,247,165"/>
<area shape="rect" title=" " alt="" coords="93,5,159,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a38f5d0ec448483861224bf315ee3668f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a38f5d0ec448483861224bf315ee3668f">VariableEWMA</a> (double age)</td></tr>
<tr class="separator:a38f5d0ec448483861224bf315ee3668f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc982f7dd3832813dfe299afc865ddd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a2fc982f7dd3832813dfe299afc865ddd">add</a> (double value)</td></tr>
<tr class="memdesc:a2fc982f7dd3832813dfe299afc865ddd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add adds a value to the series and updates the moving average.  <a href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a2fc982f7dd3832813dfe299afc865ddd">More...</a><br /></td></tr>
<tr class="separator:a2fc982f7dd3832813dfe299afc865ddd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6494dc91a994cb0f8486180ccb0102e2"><td class="memItemLeft" align="right" valign="top"><a id="a6494dc91a994cb0f8486180ccb0102e2"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clear</b> ()</td></tr>
<tr class="separator:a6494dc91a994cb0f8486180ccb0102e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ba8632702457be5227fe0f588840b8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#ae8ba8632702457be5227fe0f588840b8">getAverage</a> ()</td></tr>
<tr class="separator:ae8ba8632702457be5227fe0f588840b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a59767e12a7187cec3f98ec98eefb8c22"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a59767e12a7187cec3f98ec98eefb8c22">average</a></td></tr>
<tr class="memdesc:a59767e12a7187cec3f98ec98eefb8c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">The current value of the average.  <a href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a59767e12a7187cec3f98ec98eefb8c22">More...</a><br /></td></tr>
<tr class="separator:a59767e12a7187cec3f98ec98eefb8c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ccec71f321c7d3d4c334779ad74a276"><td class="memItemLeft" align="right" valign="top"><a id="a6ccec71f321c7d3d4c334779ad74a276"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a6ccec71f321c7d3d4c334779ad74a276">decay</a></td></tr>
<tr class="memdesc:a6ccec71f321c7d3d4c334779ad74a276"><td class="mdescLeft">&#160;</td><td class="mdescRight">The multiplier factor by which the previous samples decay. <br /></td></tr>
<tr class="separator:a6ccec71f321c7d3d4c334779ad74a276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae30351eb20350bd173a046a5e5c722ac"><td class="memItemLeft" align="right" valign="top"><a id="ae30351eb20350bd173a046a5e5c722ac"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#ae30351eb20350bd173a046a5e5c722ac">count</a></td></tr>
<tr class="memdesc:ae30351eb20350bd173a046a5e5c722ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of samples added to this instance. <br /></td></tr>
<tr class="separator:ae30351eb20350bd173a046a5e5c722ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:afe0e7f79e0f2b205a8ba9123d6b736e9"><td class="memItemLeft" align="right" valign="top"><a id="afe0e7f79e0f2b205a8ba9123d6b736e9"></a>
static final double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#afe0e7f79e0f2b205a8ba9123d6b736e9">AVG_METRIC_AGE</a> = 30.0</td></tr>
<tr class="memdesc:afe0e7f79e0f2b205a8ba9123d6b736e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">By default, we average over a one-minute period, which means the average age of the metrics in the period is 30 seconds. <br /></td></tr>
<tr class="separator:afe0e7f79e0f2b205a8ba9123d6b736e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64e8bc9f009c239029e7c2836931776"><td class="memItemLeft" align="right" valign="top"><a id="ae64e8bc9f009c239029e7c2836931776"></a>
static final double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#ae64e8bc9f009c239029e7c2836931776">DECAY</a> = 2 / (<a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#afe0e7f79e0f2b205a8ba9123d6b736e9">AVG_METRIC_AGE</a> + 1)</td></tr>
<tr class="memdesc:ae64e8bc9f009c239029e7c2836931776"><td class="mdescLeft">&#160;</td><td class="mdescRight">The formula for computing the decay factor from the average age comes from "Production and Operations Analysis" by Steven Nahmias. <br /></td></tr>
<tr class="separator:ae64e8bc9f009c239029e7c2836931776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee01a0e0b9392efc0981c8224b326b97"><td class="memItemLeft" align="right" valign="top">static final int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#aee01a0e0b9392efc0981c8224b326b97">WARMUP_SAMPLES</a> = 10</td></tr>
<tr class="memdesc:aee01a0e0b9392efc0981c8224b326b97"><td class="mdescLeft">&#160;</td><td class="mdescRight">For best results, the moving average should not be initialized to the samples it sees immediately.  <a href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#aee01a0e0b9392efc0981c8224b326b97">More...</a><br /></td></tr>
<tr class="separator:aee01a0e0b9392efc0981c8224b326b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html" title="VariableEWMA represents the exponentially weighted moving average of a series of numbers.">VariableEWMA</a> represents the exponentially weighted moving average of a series of numbers. </p>
<p>Unlike SimpleEWMA, it supports a custom age, and thus uses more memory. </p>
<p>Original code: <a href="https://github.com/VividCortex/ewma">https://github.com/VividCortex/ewma</a></p>
<dl class="section author"><dt>Author</dt><dd>Maycon Viana Bordin <a href="#" onclick="location.href='mai'+'lto:'+'may'+'co'+'nbo'+'rd'+'in@'+'gm'+'ail'+'.c'+'om'; return false;">mayco<span style="display: none;">.nosp@m.</span>nbor<span style="display: none;">.nosp@m.</span>din@g<span style="display: none;">.nosp@m.</span>mail<span style="display: none;">.nosp@m.</span>.com</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00034">34</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a38f5d0ec448483861224bf315ee3668f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38f5d0ec448483861224bf315ee3668f">&#9670;&nbsp;</a></span>VariableEWMA()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">common.util.math.VariableEWMA.VariableEWMA </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>age</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">age</td><td>The age is related to the decay factor alpha by the formula given for the DECAY constant. It signifies the average age of the samples as time goes to infinity. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00073">73</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2fc982f7dd3832813dfe299afc865ddd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc982f7dd3832813dfe299afc865ddd">&#9670;&nbsp;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void common.util.math.VariableEWMA.add </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add adds a value to the series and updates the moving average. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value</td><td>The value to be added </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00082">82</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>

</div>
</div>
<a id="ae8ba8632702457be5227fe0f588840b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ba8632702457be5227fe0f588840b8">&#9670;&nbsp;</a></span>getAverage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double common.util.math.VariableEWMA.getAverage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>The current value of the average, or 0.0 if the series hasn't warmed up yet. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00102">102</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a59767e12a7187cec3f98ec98eefb8c22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59767e12a7187cec3f98ec98eefb8c22">&#9670;&nbsp;</a></span>average</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double common.util.math.VariableEWMA.average</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The current value of the average. </p>
<p>After adding with <a class="el" href="classcommon_1_1util_1_1math_1_1_variable_e_w_m_a.html#a2fc982f7dd3832813dfe299afc865ddd" title="Add adds a value to the series and updates the moving average.">add()</a>, this is updated to reflect the average of all values seen thus far. </p>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00058">58</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>

</div>
</div>
<a id="aee01a0e0b9392efc0981c8224b326b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee01a0e0b9392efc0981c8224b326b97">&#9670;&nbsp;</a></span>WARMUP_SAMPLES</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">final int common.util.math.VariableEWMA.WARMUP_SAMPLES = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For best results, the moving average should not be initialized to the samples it sees immediately. </p>
<p>The book "Production and Operations
Analysis" by Steven Nahmias suggests initializing the moving average to the mean of the first 10 samples. Until the VariableEwma has seen this many samples, it is not "ready" to be queried for the value of the moving average. This adds some memory cost. </p>

<p class="definition">Definition at line <a class="el" href="_variable_e_w_m_a_8java_source.html#l00053">53</a> of file <a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>common/src/main/java/common/util/math/<a class="el" href="_variable_e_w_m_a_8java_source.html">VariableEWMA.java</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
